(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{4808:(e,t,l)=>{Promise.resolve().then(l.t.bind(l,9573,23)),Promise.resolve().then(l.bind(l,1373)),Promise.resolve().then(l.bind(l,1950))},1373:(e,t,l)=>{"use strict";l.d(t,{default:()=>i});var o=l(5155),n=l(2115);l(66);let s="#D3D3D3",r="#aa3333",d="#33aa33";class c{constructor(e,t,l,o,n){this.id=e,this.color=t,this.label=l,this.x=o,this.y=n,this.f=0,this.g=0,this.h=0,this.type="open",this.prevNode=null}}let i=e=>{let{columns:t=40,cellSize:l=20}=e,[i,a]=(0,n.useState)(null),[u,h]=(0,n.useState)(null),[p]=(0,n.useState)(0),[x,f]=(0,n.useState)(Array.from({length:t*t},(e,l)=>new c(l,s,"Box ".concat(l+1),l%t,Math.floor(l/t)))),[y,m]=(0,n.useState)("Mode 0"),[b,j]=(0,n.useState)(!1),[v,N]=(0,n.useState)("up"),g=async()=>{if(!i||!u){console.error("Start or end node not set");return}let e=[...x];for(let t of e)t.g=1/0,t.h=Math.abs(t.x-u.x)+Math.abs(t.y-u.y),t.f=1/0,t.prevNode=null;let t=e[i.id];t.g=0,t.f=t.h;let l=[t],o=[];for(;l.length>0;){let t=0;for(let e=1;e<l.length;e++)l[e].f<l[t].f&&(t=e);let n=l[t];if(n===e[u.id]){let e=[],t=n;for(;null!==t;)e.unshift(t),t=t.prevNode;for(let t of e)f(e=>e.map(e=>e.id===t.id?{...e,color:d}:e)),await C(50);return}for(let t of(l.splice(l.indexOf(n),1),o.push(n),f(e=>e.map(e=>e.id===n.id?{...e,color:"#FFA07A"}:e)),k(n.id))){let s=e[t];if(o.includes(s)||"wall"===s.type)continue;let r=n.g+1;r<s.g&&(s.g=r,s.f=s.g+s.h,s.prevNode=n,l.includes(s)||(l.push(s),f(e=>e.map(e=>e.id===s.id?{...e,color:"#ADD8E6"}:e))))}await C(50)}console.error("No path found")},M=e=>{k(e);let t=x[e],l=t?t.x:null,o=t?t.y:null;console.log("Box ".concat(e," clicked in ").concat(y,"!, posx ").concat(l," posy ").concat(o)),f(t=>{let l=[...t];return l.findIndex(t=>t.id===e),l})},w=e=>{N("down"),E(e)},S=e=>{"down"===v&&E(e)},k=e=>{let t=x[e];return[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:-1},{dx:1,dy:1},{dx:1,dy:-1},{dx:-1,dy:1}].map(e=>{let{dx:l,dy:o}=e,n=x.find(e=>e.x===t.x+l&&e.y===t.y+o);return n&&"wall"!==n.type?n.id:null}).filter(e=>null!==e)};function C(e){return console.log("timer started"),new Promise(t=>setTimeout(t,e))}let E=e=>{f(t=>{let l=[...t];return -1!==e&&("Mode 1"===y?null==i?(l[e].color=r,l[e].type="start",a(l[e])):(l[e].color=r,l[e].type="start",a(l[e]),i.color=s,i.type="open"):"Mode 2"===y?null==u?(l[e].color=d,l[e].type="end",h(l[e])):(l[e].color=d,l[e].type="end",h(l[e]),u.color=s,u.type="open"):"Mode 3"===y&&l[e]!=i&&l[e]!=u&&(l[e].color="#010101",l[e].type="wall")),l})};return(0,o.jsxs)("div",{onMouseUp:()=>N("up"),children:[(0,o.jsxs)("div",{className:"modeButtpn-container",children:[(0,o.jsx)("button",{className:"control-buttons",onClick:()=>m("Mode 1"),children:"Place Start"}),(0,o.jsx)("button",{className:"control-buttons",onClick:()=>m("Mode 2"),children:"Place End"}),(0,o.jsx)("button",{className:"control-buttons",onClick:()=>m("Mode 3"),children:"Place Wall"}),(0,o.jsx)("button",{className:"control-buttons",onClick:()=>{b?j(!1):(j(!0),g().then(()=>j(!1)))},children:b?"Reset Loop":"Start search"})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{children:["Current Mode: ",y]}),(0,o.jsxs)("p",{children:["Loop Count: ",p]})]}),(0,o.jsx)("div",{className:"grid",style:{gridTemplateColumns:"repeat(".concat(t,", ").concat(l,"px)")},children:x.map(e=>(0,o.jsx)("button",{className:"grid-box",style:{backgroundColor:e.color,width:"".concat(l,"px"),height:"".concat(l,"px")},onClick:()=>b?null:M(e.id),onMouseDown:()=>b?null:w(e.id),onMouseEnter:()=>b?null:S(e.id),children:(0,o.jsx)("span",{style:{fontSize:"12px",color:"#ffffff",pointerEvents:"none"},children:e.h})},e.id))})]})}},1950:(e,t,l)=>{"use strict";l.d(t,{default:()=>s});var o=l(5155);l(2115);var n=l(7396);l(2907);let s=()=>(0,o.jsx)("nav",{children:(0,o.jsx)("ul",{children:(0,o.jsxs)("div",{className:"control-container",children:[(0,o.jsx)("li",{children:(0,o.jsx)(n.default,{href:"/Home",className:"control-button",children:(0,o.jsx)("span",{children:"Home"})})}),(0,o.jsx)("li",{children:(0,o.jsx)(n.default,{href:"/AStar",className:"control-button",children:"A*"})})]})})})},9573:()=>{},66:()=>{},2907:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[533,899,396,441,517,358],()=>t(4808)),_N_E=e.O()}]);